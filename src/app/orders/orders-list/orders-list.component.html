<div class="orders-container">
  <h2 class="orders-title">Pending Orders for Approval</h2>
  <p class="orders-count">Total: {{ totalCount() }}</p>

  @if (loading()) {
    <!-- Skeleton Loading State -->
    <ul class="orders-list skeleton-list">
      @for (i of [1,2]; track i) {
        <li class="skeleton-item">
          <div class="skeleton-info-wrapper">
            <div class="skeleton-id"></div>
            <div class="skeleton-status"></div>
          </div>
          <div class="skeleton-actions-wrapper">
            <div class="skeleton-btn"></div>
            <div class="skeleton-btn"></div>
          </div>
        </li>
      }
    </ul>
  } @else if (error()) {
     <!-- Error State with Partial Success Support -->
    <div class="orders-error">
       <p>{{ error() }}</p>
       <button class="btn btn--reject" (click)="loadOrders()">Retry</button>
    </div>
  } @else {
    <ul class="orders-list">
      @for (order of orders(); track order.id) {
        <li>
          <app-order-item
            [order]="order"
            (approve)="approveOrder($event)"
            (reject)="rejectOrder($event)">
          </app-order-item>
        </li>
      } @empty {
        <li class="orders-empty">No orders pending for approval</li>
      }
    </ul>
  }
</div>
